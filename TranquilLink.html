<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NeoMessages | Personal Messaging</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&display=swap" rel="stylesheet">
  <style>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&display=swap" rel="stylesheet">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NeoMessages | Personal Messaging</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        height: 100vh;
        overflow: hidden;
        background: transparent;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        overflow: hidden; /* instead of overflow-x: hidden */
        height: 100%;
        width: 100%;
      }

      @keyframes gradientFlow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

      @keyframes flashNeon {
        0%, 100% {
          box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        50% {
          box-shadow: 0 0 20px rgba(0, 255, 255, 1), 0 0 30px rgba(0, 255, 255, 0.8);
        }
      }

    .app-container {
      width: 390px;
      height: calc(100vh - 60px);
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(16px);
      border-radius: 24px;
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.15);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    #starfield {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: -1; /* keep it in the back */
        pointer-events: none; /* make sure it doesn't interfere */
      }

      .custom-cursor {
        opacity: 0;
        transition: opacity 0.2s ease;
      }

      .particle-cursor {
        position: fixed;
        width: 10px; /* Adjust size as needed */
        height: 10px; /* Adjust size as needed */
        border-radius: 50%; /* Make it circular */
        background: rgba(0, 255, 255, 0.8); /* Light color */
        pointer-events: none; /* Prevent it from interfering with mouse events */
        transition: transform 0.1s ease; /* Smooth transition for movement */
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.8); /* Glow effect */
        z-index: 10000; 
      }
      .particle {
        position: absolute;
        border-radius: 50%;
        background: rgba(0, 255, 255, 0.8); /* Particle color */
        pointer-events: none;
      }

      .status-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 6px 12px;
        font-size: 0.8rem;
        color: #a0faff;
        background: rgba(255, 255, 255, 0.03);
        border-bottom: none;
        font-family: 'Orbitron', sans-serif;
      }
      
      .signal-bars span {
        display: inline-block;
        width: 2px;
        margin-right: 2px;
        background: #a0faff;
        opacity: 0.4;
      }
      .signal-bars span:nth-child(1) { height: 4px; }
      .signal-bars span:nth-child(2) { height: 6px; }
      .signal-bars span:nth-child(3) { height: 8px; }
      .signal-bars span:nth-child(4) { height: 10px; opacity: 1; }
      
      .battery-icon {
        width: 24px;
        height: 12px;
        border: 1px solid #a0faff;
        position: relative;
        border-radius: 2px;
      }
      .battery-icon::after {
        content: '';
        position: absolute;
        top: 3px;
        right: -4px;
        width: 2px;
        height: 6px;
        background: #a0faff;
        border-radius: 1px;
      }
      .battery-level {
        width: 60%;
        height: 100%;
        background: #a0faff;
      }
      .status-center {
        flex: 1;
        text-align: center;
      }

      header {
        width: 100%;
        padding: 40px 20px 20px;
        text-align: center;
        background: transparent;
        backdrop-filter: blur(0px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      header h1 {
        font-size: 2rem;
        color: #a0faff;
        letter-spacing: 1px;
        font-family: 'Orbitron', sans-serif;
        text-shadow: 0 0 8px #00f0ff;
      }

      header + .app-container {
        margin-top: -20px; /* nudges the top edge up without shifting layout */
      }


      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(-45deg, #0f2027, #203a43, #2c5364, #1a1f2b);
        background-size: 400% 400%;
        animation: gradientFlow 18s ease infinite;
        z-index: -1;
        opacity: 0.4;
      }


      body {
        margin: 0;
        padding: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: #fff;
        display: flex;
        height: 100vh;
        overflow: hidden;
        justify-content: space-between;
        flex-direction: column;
        align-items: center;
      }

      .hero {
        padding: 10px 20px 0;
        font-size: 0.6rem;
        margin-top: 10px;
        text-align: center;
        font-family: 'Major Mono Display', monospace;
      }

      .hero p {
        font-size: 0.68rem;
        color: #c0e8ff;
      }
    
    .chat-window {
      max-width: 468px; /* already applied */
      height: calc(100vh - 100px); /* fix the height */
      background: rgba(255, 255, 255, 0.06);
      backdrop-filter: blur(12px);
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
      border-radius: 24px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .chat-header {
      padding: 14px 20px;
      background: rgba(255, 255, 255, 0.04);
      border-bottom: 1px solid rgba(0, 255, 255, 0.12);
      box-shadow: inset 0 -1px 2px rgba(0, 255, 255, 0.05);
      font-family: 'Orbitron', sans-serif;
    }
    
    .contact-name {
      color: #a0faff;
      font-weight: bold;
      font-size: 1rem;
      letter-spacing: 1px;
    }


    .message-container {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      border-bottom: 1px solid rgba(0, 255, 255, 0.15);
      box-shadow: inset 0 -1px 3px rgba(0, 255, 255, 0.05);
    }

    .message {
      margin-bottom: 15px;
      padding: 10px;
      border-radius: 8px;
      background: rgba(0, 255, 255, 0.1);
      max-width: 70%;
      word-wrap: break-word;
      margin-bottom: 0; /* Replace old margin value */
    }

    .message.me {
      background: rgba(0, 200, 200, 0.1);
      margin-left: auto;
    }

    .input-container {
      display: flex;
      width: 100%;
      max-width: 800px;        /* Matches .message-container */
      padding: 0 20px 20px;    /* Aligns with message-container padding */
      box-sizing: border-box;
    }


  .input-container input {
  flex: 1;
  padding: 10px 14px;
  border: none;
  border-radius: 10px 0 0 10px;
  background: rgba(255, 255, 255, 0.06);
  color: #fff;
  outline: none;
  border: 1px solid rgba(0,255,255,0.15);
  backdrop-filter: blur(10px);
  box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.2),
              inset -2px -2px 5px rgba(0, 255, 255, 0.05);
}

.input-container button {
  padding: 10px 18px;
  border: none;
  border-radius: 0 10px 10px 0;
  background: rgba(255, 255, 255, 0.04);
  color: #fff;
  border: 1px solid rgba(0,255,255,0.15);
  backdrop-filter: blur(10px);
  cursor: pointer;
  box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.2),
              inset -2px -2px 5px rgba(0, 255, 255, 0.05);
}



  .input-container input:focus {
      background: rgba(255, 255, 255, 0.1);
  }

  .input-container button:hover {
      background: rgba(0, 255, 255, 0.3);
  }

  .particle {
      position: absolute;
      border-radius: 50%;
      background: rgba(0, 255, 255, 0.8);
  }
  </style>
 </head>
  <body>
    <canvas id="backgroundFX"></canvas>
    <canvas id="starfield"></canvas>
    <header>
      <h1>TranquilLink</h1>
    </header>

    <section class="message-container" id="messageContainer">
        <!-- Messages will be inserted here -->
    </section>

    <div class="chat-window">

      <div class="status-bar">
        <div class="status-left">
          <div class="signal-bars">
            <span></span><span></span><span></span><span></span>
          </div>
        </div>
        <div class="status-center">
          <span class="status-time">12:45</span>
        </div>
        <div class="status-right">
          <div class="battery-icon">
            <div class="battery-level"></div>
          </div>
        </div>
        </div>

        <div class="chat-header">
        <span class="contact-name">Neo • Kai</span>
      </div>
        <section class="message-container" id="messageContainer"></section>
        <div class="input-container">
          <input type="text" id="messageInput" placeholder="Type your message..." />
          <button onclick="sendMessage()">Send</button>
        </div>
      </div>

    
    <div class="custom-cursor" id="customCursor"></div>
    <div id="particleCursor" class="particle-cursor"></div>
    <div id="heroText" class="hero">
      <p>—<br><br>sleek, ambient, and futuristic.<br><br><br><br></p>
    </div>

  <script>
    const messageContainer = document.getElementById('messageContainer');
    const messageInput = document.getElementById('messageInput');

    function sendMessage() {
      const text = messageInput.value.trim();
      if (text) {
        const msg = document.createElement('div');
        msg.className = 'message me';
        msg.textContent = text;
        messageContainer.appendChild(msg);
        messageInput.value = '';
        messageContainer.scrollTop = messageContainer.scrollHeight;
      }
    }

    // Starfield canvas
          const starCanvas = document.getElementById("starfield");
          const starCtx = starCanvas.getContext("2d");

          const spaceBackground = new Image();
          spaceBackground.src = 'https://cdn.discordapp.com/attachments/823402273743831072/1369869622148337674/Background_Image.png?ex=681d6e00&is=681c1c80&hm=847eeceb2f2cea4c4bdd275dd09b44d853399a96f60beb17394e4da4fb7ec05c&'; // replace with any HD space image


          let stars = [];
          const STAR_COUNT = 800;
          let centerX = window.innerWidth / 2;
          let centerY = window.innerHeight / 2;

          function resizeStarCanvas() {
            starCanvas.width = window.innerWidth;
            starCanvas.height = window.innerHeight;
          }
          resizeStarCanvas();
          window.addEventListener("resize", resizeStarCanvas);

          function createStars() {
            stars = [];
            for (let i = 0; i < STAR_COUNT; i++) {
              stars.push({
                x: (Math.random() - 0.5) * starCanvas.width,
                y: (Math.random() - 0.5) * starCanvas.height,
                z: Math.random() * starCanvas.width,
                o: Math.random() * 0.5 + 0.5,
              });
            }
          }
          createStars();

          let angle = 0;
          const radius = 40; // Wider loop = larger radius

          let targetOffsetX = 0, targetOffsetY = 0;
          let currentOffsetX = 0, currentOffsetY = 0;
          let mouseX = 0, mouseY = 0;

          document.addEventListener("mousemove", (e) => {
            const rect = starCanvas.getBoundingClientRect();
            mouseX = (e.clientX - rect.width / 2) / (rect.width / 2);  // range -1 to 1
            mouseY = (e.clientY - rect.height / 2) / (rect.height / 2);
          });

          function drawStars() {
            const extraMargin = 100; // amount the background image exceeds canvas edges
        const bgWidth = starCanvas.width + extraMargin * 2;
        const bgHeight = starCanvas.height + extraMargin * 2;

        // Calculate normalized mouse offset (-1 to 1)
        const distance = Math.sqrt(mouseX ** 2 + mouseY ** 2);
        const easeSpeed = 0.01 + (0.04 * distance);

        // Target offset: limit to the extra margin
        targetOffsetX = -mouseX * extraMargin;
        targetOffsetY = -mouseY * extraMargin;

        // Smoothly ease to target
        currentOffsetX += (targetOffsetX - currentOffsetX) * easeSpeed;
        currentOffsetY += (targetOffsetY - currentOffsetY) * easeSpeed;

        // Clear canvas and draw image with buffer
        starCtx.clearRect(0, 0, starCanvas.width, starCanvas.height);
        starCtx.drawImage(
          spaceBackground,
          -extraMargin + currentOffsetX,
          -extraMargin + currentOffsetY,
          bgWidth,
          bgHeight
        );


        // Draw twinkling stars on top
        for (let i = 0; i < stars.length; i++) {
          const star = stars[i];
          star.z -= 4;

          if (star.z <= 0) {
            star.x = (Math.random() - 0.5) * starCanvas.width;
            star.y = (Math.random() - 0.5) * starCanvas.height;
            star.z = starCanvas.width;
          }

          const k = 128 / star.z;
          const px = star.x * k + centerX;
          const py = star.y * k + centerY;

          if (px >= 0 && px <= starCanvas.width && py >= 0 && py <= starCanvas.height) {
            const size = (1 - star.z / starCanvas.width) * 3;
            starCtx.beginPath();
            starCtx.arc(px, py, size, 0, Math.PI * 2);
            starCtx.fillStyle = `rgba(0, 255, 255, ${star.o})`;
            starCtx.fill();
          }
        }

        requestAnimationFrame(drawStars);
      }







      spaceBackground.onload = () => {
        drawStars();
      };

      // Circuit Web canvas
      const fxCanvas = document.getElementById("backgroundFX");
      const fxCtx = fxCanvas.getContext("2d");
      fxCanvas.style.position = "fixed";
      fxCanvas.style.top = "0";
      fxCanvas.style.left = "0";
      fxCanvas.style.zIndex = "-2";
      fxCanvas.style.width = "100%";
      fxCanvas.style.height = "100%";

      function resizeFXCanvas() {
        fxCanvas.width = window.innerWidth;
        fxCanvas.height = window.innerHeight;
      }

      const hexGrid = [];
      const spacing = 40;

      function createHexGrid() {
        hexGrid.length = 0;
        for (let y = 0; y < fxCanvas.height + spacing; y += spacing * Math.sqrt(3) / 2) {
          for (let x = 0; x < fxCanvas.width + spacing; x += spacing) {
            const offsetX = (Math.floor(y / (spacing * Math.sqrt(3)/2)) % 2) * (spacing / 2);
            hexGrid.push({ x: x + offsetX, y: y });
          }
        }
      }

      function drawCircuitPulse() {
        fxCtx.clearRect(0, 0, fxCanvas.width, fxCanvas.height);
        const time = Date.now() / 300;
        for (let i = 0; i < hexGrid.length; i++) {
          const p = hexGrid[i];
          for (let j = 0; j < 6; j++) {
            const angle = (Math.PI / 3) * j;
            const x2 = p.x + spacing * Math.cos(angle);
            const y2 = p.y + spacing * Math.sin(angle);
            fxCtx.beginPath();
            fxCtx.moveTo(p.x, p.y);
            fxCtx.lineTo(x2, y2);
            fxCtx.strokeStyle = "#00ffff";
            fxCtx.globalAlpha = 0.05 + Math.sin(time + i * 0.2) * 0.3;
            fxCtx.stroke();
          }
        }
        requestAnimationFrame(drawCircuitPulse);
      }

    function resizeAll() {
        resizeStarCanvas();
        resizeFXCanvas();
        createStars();
        createHexGrid();
      }

        window.addEventListener("resize", resizeAll);
        resizeAll();
        drawCircuitPulse();
  </script>
</body>
</html>
